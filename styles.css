@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&family=Space+Grotesk:wght@500;700&display=swap');

:root{
  --bg:#05020c;
  --surface:rgba(255,255,255,.06);
  --surface2:rgba(255,255,255,.09);
  --text:#f6f7fb;
  --muted:rgba(246,247,251,.68);
  --border:rgba(255,255,255,.14);

  --purple:#6A2DFF;
  --purple2:#A855F7;
  --gold:#D9B56B;
  --mint:#6EE7B7;

  --danger:#fb7185;

  --shadow:0 18px 60px rgba(0,0,0,.45);
  --r-xl:22px;

  --container:1120px;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color:var(--text);
  background:
    radial-gradient(1200px 900px at 25% 15%, rgba(106,45,255,.26), transparent 60%),
    radial-gradient(900px 700px at 82% 72%, rgba(217,181,107,.14), transparent 60%),
    linear-gradient(180deg, #04010a, #0a0314 40%, #04010a);
  overflow-x:hidden;
}

body::before,
body::after{
  content:"";
  position:fixed;
  inset:-240px;
  pointer-events:none;
  z-index:-1;
  background-image:
    radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,.7) 40%, transparent 41%),
    radial-gradient(2px 2px at 70% 10%, rgba(255,255,255,.6) 40%, transparent 41%),
    radial-gradient(1px 1px at 40% 80%, rgba(255,255,255,.55) 40%, transparent 41%),
    radial-gradient(1px 1px at 85% 65%, rgba(255,255,255,.45) 40%, transparent 41%),
    radial-gradient(1px 1px at 10% 70%, rgba(255,255,255,.5) 40%, transparent 41%);
  opacity:.32;
  animation:starDrift 140s linear infinite;
}
body::after{
  opacity:.16;
  filter:blur(.25px);
  animation-duration:200s;
}
@keyframes starDrift{
  from{ transform:translate3d(0,0,0); }
  to{ transform:translate3d(-160px, 160px, 0); }
}

@media (prefers-reduced-motion: reduce){
  body::before, body::after{ animation:none !important; }
  .brand__logo-img{ animation:none !important; }
}

a{ color:inherit; text-decoration:none; }
img{ max-width:100%; display:block; }
.sr-only{
  position:absolute; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0); border:0;
}

.container{
  width:100%;
  max-width:var(--container);
  margin:0 auto;
  padding:0 16px;
}

.toggle{
  position:fixed;
  opacity:0;
  pointer-events:none;
}

/* Topbar */
.topbar{
  background: linear-gradient(90deg, rgba(43,12,74,.95), rgba(67,16,107,.95));
  border-bottom:1px solid rgba(255,255,255,.10);
}
.topbar__inner{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:10px 0;
}
.topbar__badge{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:6px 10px;
  border-radius:999px;
  background:rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.14);
  font-weight:900;
  font-size:.86rem;
}
.topbar__text{
  margin:0;
  color:rgba(255,255,255,.88);
  font-weight:800;
  font-size:.92rem;
  text-align:center;
  flex:1;
}
.topbar__link{
  font-weight:900;
  opacity:.9;
  text-decoration:underline;
  text-underline-offset:3px;
}

/* Header */
.header{
  position:sticky;
  top:0;
  z-index:50;
  background:rgba(12,4,22,.72);
  backdrop-filter: blur(14px);
  border-bottom:1px solid var(--border);
}
.header__inner{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:12px 0;
}

.icon-btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:42px;
  height:42px;
  border-radius:14px;
  border:1px solid var(--border);
  background:rgba(255,255,255,.06);
  color:var(--text);
  cursor:pointer;
}

.header__right{
  display:flex;
  align-items:center;
  gap:10px;
}

.brand{
  display:flex;
  align-items:center;
  gap:10px;
  min-width:0;
}
.brand__logo-img{
  width:40px;
  height:40px;
  border-radius:999px;
  object-fit:cover;
  box-shadow:
    0 0 0 2px rgba(255,255,255,.16),
    0 0 18px rgba(106,45,255,.55),
    0 0 30px rgba(217,181,107,.18);
  animation:psGlow 2.8s ease-in-out infinite;
}
@keyframes psGlow{
  0%,100%{ transform:translateY(0); filter:saturate(1); }
  50%{ transform:translateY(-1px); filter:saturate(1.2); }
}
.brand__text{
  display:flex;
  flex-direction:column;
  line-height:1.05;
  min-width:0;
}
.brand__name{
  font-family:"Space Grotesk", Inter, sans-serif;
  font-weight:900;
  letter-spacing:.4px;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.brand__tag{
  color:var(--muted);
  font-weight:800;
  font-size:.85rem;
}

.cart-btn{ position:relative; }
.cart-badge{
  position:absolute;
  top:-7px;
  right:-7px;
  min-width:22px;
  height:22px;
  padding:0 6px;
  border-radius:999px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:900;
  font-size:.78rem;
  color:#0a0512;
  background: linear-gradient(135deg, rgba(217,181,107,1), rgba(110,231,183,1));
  border: 1px solid rgba(255,255,255,.18);
}

/* Drawer */
.drawer-backdrop{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.58);
  opacity:0;
  pointer-events:none;
  transition:.2s ease;
  z-index:60;
}
.drawer{
  position:fixed;
  top:0;
  left:0;
  height:100%;
  width:min(86vw, 420px);
  background:rgba(10,4,18,.92);
  border-right:1px solid var(--border);
  transform:translateX(-104%);
  transition:.25s ease;
  z-index:70;
  padding:14px;
  backdrop-filter: blur(16px);
}
#catDrawerToggle:checked ~ .drawer-backdrop{
  opacity:1; pointer-events:auto;
}
#catDrawerToggle:checked ~ .drawer{
  transform:translateX(0);
}
.drawer__head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding-bottom:12px;
}
.drawer__title{
  font-weight:950;
  letter-spacing:.2px;
  display:flex;
  align-items:center;
  gap:10px;
}
.cat-nav{ display:flex; flex-direction:column; gap:10px; }
.cat-sep{ height:1px; background:rgba(255,255,255,.10); margin:6px 0; }

.cat-link{
  padding:14px 14px;
  border-radius:18px;
  background:rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.12);
  font-weight:900;
}
.cat-link:hover{ background:rgba(255,255,255,.10); }

/* Search modal */
.search-modal{
  position:fixed;
  inset:0;
  z-index:80;
  opacity:0;
  pointer-events:none;
  transition:.2s ease;
}
#searchToggle:checked ~ .search-modal{
  opacity:1;
  pointer-events:auto;
}
.search-modal__overlay{
  position:absolute; inset:0;
  background:rgba(0,0,0,.62);
}
.search-modal__panel{
  position:absolute;
  left:50%;
  top:10%;
  transform:translateX(-50%);
  width:min(92vw, 620px);
  border-radius:22px;
  background:rgba(255,255,255,.06);
  border:1px solid var(--border);
  box-shadow:var(--shadow);
  padding:14px;
  backdrop-filter: blur(18px);
}
.search-modal__head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}
.search-modal__title{
  margin:0;
  font-weight:950;
  font-family:"Space Grotesk", Inter, sans-serif;
}
.search-box{
  display:flex;
  gap:10px;
  margin-top:12px;
}
.search-box input{
  flex:1;
  height:46px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.16);
  background:rgba(0,0,0,.25);
  color:var(--text);
  padding:0 14px;
  font-weight:800;
}
.search-box input::placeholder{ color:rgba(246,247,251,.55); }

/* Layout */
.section{ padding:18px 0 34px; }

/* Hero */
.hero{
  border-radius:24px;
  overflow:hidden;
  border:1px solid rgba(255,255,255,.12);
  background:
    radial-gradient(900px 520px at 30% 20%, rgba(106,45,255,.22), transparent 58%),
    radial-gradient(700px 480px at 80% 70%, rgba(217,181,107,.12), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  box-shadow: var(--shadow);
  position:relative;
}
.hero__inner{
  position:relative;
  padding:18px;
  display:grid;
  gap:10px;
}
.hero__title{
  margin:0;
  font-family:"Space Grotesk", Inter, sans-serif;
  font-weight:950;
  letter-spacing:.4px;
  font-size: clamp(1.3rem, 1rem + 1.6vw, 2rem);
}
.hero__sub{
  margin:0;
  color:var(--muted);
  font-weight:800;
}
.hero__meta{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  margin-top:6px;
}
.pill{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:8px 12px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.06);
  font-weight:900;
  font-size:.86rem;
}
.pill--gold{ background:rgba(217,181,107,.16); border-color:rgba(217,181,107,.34); }
.pill--mint{ background:rgba(110,231,183,.12); border-color:rgba(110,231,183,.28); }

/* Category pills row */
.cat-pills{
  display:flex;
  gap:10px;
  overflow:auto;
  padding:12px 2px 2px;
  margin-top:6px;
}
.cat-pill{
  flex:0 0 auto;
  padding:10px 14px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.06);
  font-weight:950;
}
.cat-pill:hover{ background:rgba(255,255,255,.10); }

/* Blocks */
.block__head{
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  gap:12px;
  margin:16px 0 10px;
}
.block__title{
  margin:0;
  font-family:"Space Grotesk", Inter, sans-serif;
  font-weight:950;
}
.block__sub{
  margin:0;
  color:var(--muted);
  font-weight:800;
  text-align:right;
}

/* Grid */
.products-grid{
  display:grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap:12px;
}
@media (min-width: 760px){
  .products-grid{ grid-template-columns: repeat(3, minmax(0, 1fr)); }
}
@media (min-width: 1080px){
  .products-grid{ grid-template-columns: repeat(4, minmax(0, 1fr)); }
}

/* Product tile neon */
.product-tile{
  border-radius:22px;
  border:1px solid transparent;
  background:
    linear-gradient(rgba(255,255,255,.06), rgba(255,255,255,.04)) padding-box,
    linear-gradient(135deg, rgba(106,45,255,.95), rgba(217,181,107,.55), rgba(110,231,183,.40)) border-box;
  box-shadow: var(--shadow);
  overflow:hidden;
}
.product-tile__media{
  position:relative;
  padding:10px;
}
.product-tile__body{
  padding:10px 12px 12px;
  display:grid;
  gap:8px;
}
.sale-bubble{
  position:absolute;
  top:12px;
  left:12px;
  z-index:2;
  padding:10px 12px;
  border-radius:999px;
  font-weight:950;
  background:rgba(110,231,183,.16);
  border:1px solid rgba(110,231,183,.30);
  backdrop-filter: blur(10px);
}

/* FIXED frames everywhere */
.media-square{
  position:relative;
  width:100%;
  aspect-ratio:1/1;
  border-radius:16px;
  overflow:hidden;
  border:1px solid rgba(255,255,255,.12);
  box-shadow: 0 20px 50px rgba(0,0,0,.35);
}
.media-square img,
.media-square .media-placeholder{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}
.media-placeholder{
  background:
    radial-gradient(circle at 30% 25%, rgba(255,255,255,.10), transparent 55%),
    linear-gradient(135deg, rgba(106,45,255,.30), rgba(217,181,107,.12));
}

/* Type strip */
.type-strip{
  position:absolute;
  left:10px;
  right:10px;
  bottom:10px;
  height:32px;
  border-radius:999px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:950;
  letter-spacing:.4px;
  border:1px solid rgba(255,255,255,.16);
  background: rgba(0,0,0,.20);
  backdrop-filter: blur(10px);
  pointer-events:none;
}
.type-strip--indica{ background: rgba(168,85,247,.26); }
.type-strip--hybrid{ background: rgba(110,231,183,.18); }
.type-strip--sativa{ background: rgba(217,181,107,.18); }
.type-strip--other{ background: rgba(255,255,255,.10); }

.pill-row{ display:flex; gap:8px; flex-wrap:wrap; }
.pill--tier{ background: rgba(217,181,107,.16); border-color: rgba(217,181,107,.34); }
.pill--tag{ background: rgba(168,85,247,.14); border-color: rgba(168,85,247,.26); }

.product-title-link{
  font-weight:950;
  text-decoration: underline;
  text-underline-offset:3px;
  line-height:1.2;
}

.rating{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}
.stars{
  display:flex;
  gap:3px;
  color: rgba(217,181,107,1);
}
.reviews{
  color:var(--muted);
  font-weight:850;
  font-size:.92rem;
}

.price{
  font-weight:950;
  color:var(--mint);
  letter-spacing:.2px;
}

/* Variant selector */
.variant{
  display:grid;
  gap:8px;
  padding:10px 12px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(0,0,0,.20);
  text-align:center;
  align-content:center;
  justify-items:center;
}
.variant span{
  font-weight:900;
  color:rgba(255,255,255,.86);
}
.variant-select{
  width:100%;
  height:42px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.16);
  background: rgba(0,0,0,.25);
  color: var(--text);
  font-weight:950;
  padding:0 40px 0 12px;
  appearance:none;
  outline:none;
  cursor:pointer;
  background-image:
    linear-gradient(45deg, transparent 50%, rgba(246,247,251,.85) 50%),
    linear-gradient(135deg, rgba(246,247,251,.85) 50%, transparent 50%);
  background-position: calc(100% - 18px) 18px, calc(100% - 12px) 18px;
  background-size: 6px 6px, 6px 6px;
  background-repeat:no-repeat;
}

/* Buttons */
.btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  height:46px;
  padding:0 14px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.16);
  background:rgba(255,255,255,.06);
  color:var(--text);
  font-weight:950;
  cursor:pointer;
}
.btn--solid{
  background: linear-gradient(135deg, rgba(217,181,107,1), rgba(110,231,183,1));
  color:#0a0512;
  border-color: rgba(255,255,255,.18);
}
.btn--full{ width:100%; }
.btn:hover{ filter:brightness(1.03); }
.btn:disabled{ opacity:.6; cursor:not-allowed; }

/* Buy layout */
.buy-row{
  display:grid;
  grid-template-columns:1fr;
  gap:10px;
}
@media (min-width: 520px){
  #detailsCard .buy-row{ grid-template-columns: 1fr 1fr; }
}
.product-tile .buy-row .btn,
#detailsCard .buy-row .btn{
  min-height:54px;
  height:100%;
}

/* Toast */
.toast{
  position:fixed;
  left:50%;
  bottom:18px;
  transform:translateX(-50%) translateY(16px);
  opacity:0;
  pointer-events:none;
  z-index:90;
  display:flex;
  align-items:center;
  gap:12px;
  padding:10px 14px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.16);
  background: rgba(10,4,18,.88);
  box-shadow: var(--shadow);
  transition:.18s ease;
}
.toast a{ font-weight:950; text-decoration:underline; text-underline-offset:3px; }
.toast--show{
  opacity:1;
  transform:translateX(-50%) translateY(0);
  pointer-events:auto;
}

/* Cards */
.card{
  background:rgba(255,255,255,.06);
  border:1px solid var(--border);
  border-radius:var(--r-xl);
  box-shadow: var(--shadow);
  padding:14px;
  backdrop-filter: blur(16px);
}
.muted{ color:var(--muted); font-weight:800; }
.hr{ height:1px; background:rgba(255,255,255,.10); margin:14px 0; }

/* Product detail */
.product-hero{ display:grid; gap:14px; }
@media (min-width: 920px){
  .product-hero{ grid-template-columns: 1fr 1fr; align-items:start; }
  .product-media-sticky{ position:sticky; top:96px; }
}

/* Cart / Checkout */
.cart-layout{ display:grid; gap:14px; }
@media (min-width: 980px){
  .cart-layout{ grid-template-columns: 1.2fr .8fr; align-items:start; }
}
.cart-item{
  display:grid;
  grid-template-columns: 74px 1fr auto;
  gap:12px;
  align-items:center;
  padding:10px 0;
  border-bottom:1px solid rgba(255,255,255,.10);
}
.cart-thumb{
  width:74px; height:74px;
  border-radius:16px;
  overflow:hidden;
  border:1px solid rgba(255,255,255,.12);
}
.cart-thumb img{ width:100%; height:100%; object-fit:cover; }
.cart-meta h3{ margin:0; font-weight:950; }
.cart-meta .meta{ color:var(--muted); font-weight:850; font-size:.92rem; margin-top:2px; }
.cart-actions{ display:flex; flex-direction:column; gap:8px; align-items:flex-end; }

.summary-row{
  display:flex;
  justify-content:space-between;
  gap:12px;
  padding:8px 0;
  font-weight:900;
}

.alert-danger{
  background: rgba(251,113,133,.12);
  border: 1px solid rgba(251,113,133,.30);
  color: #ffd1dc;
  padding: 12px 14px;
  border-radius: 18px;
  font-weight: 950;
}

.codebox{
  width:100%;
  background:#0f071a;
  color: rgba(255,255,255,.90);
  border: 1px solid rgba(255,255,255,.14);
  border-radius: 18px;
  padding: 12px;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
  white-space: pre-wrap;
  line-height: 1.45;
}

/* Promo modal */
.promo-modal{ position:fixed; inset:0; z-index:95; display:none; }
.promo-modal--show{ display:block; }
.promo-modal__overlay{ position:absolute; inset:0; background:rgba(0,0,0,.70); }
.promo-modal__panel{
  position:absolute;
  left:50%;
  top:12%;
  transform:translateX(-50%);
  width:min(92vw, 560px);
  border-radius:24px;
  padding:14px;
  background:
    radial-gradient(900px 520px at 30% 20%, rgba(106,45,255,.22), transparent 58%),
    radial-gradient(700px 480px at 80% 70%, rgba(217,181,107,.12), transparent 60%),
    rgba(255,255,255,.06);
  border:1px solid var(--border);
  box-shadow: var(--shadow);
  backdrop-filter: blur(18px);
}
.promo-head{ display:flex; align-items:center; justify-content:space-between; gap:10px; }
.promo-title{ margin:0; font-family:"Space Grotesk", Inter, sans-serif; font-weight:950; }
.promo-actions{ display:flex; gap:10px; flex-wrap:wrap; margin-top:12px; }

/* Kill any old “bubble” UI */
.tag-stack, .tagchip, .bubble, .note-bubble { display:none !important; }
/* =========================
   HOTFIX: Category overflow
========================= */
.cat-pills{
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
  padding-bottom: 10px; /* prevents clipping */
}
.cat-pills::-webkit-scrollbar{ display:none; }

.cat-pill{
  white-space: nowrap;
  max-width: 100%;
}

/* Drawer links: long labels like "Male Enhancers" should wrap safely */
.drawer{ overflow: auto; }
.cat-link{
  white-space: normal;
  overflow-wrap: anywhere;
}
/* ==========================================
   HOTFIX: Size + Buy alignment (cards + product page)
========================================== */

/* Product cards: make Size + Buy same height */
.product-tile .buy-row{
  grid-template-columns: 1fr 1fr;
  align-items: stretch;
}
@media (max-width: 380px){
  .product-tile .buy-row{ grid-template-columns: 1fr; }
}

.product-tile .variant{
  height: 54px;
  padding: 0 10px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.product-tile .variant > span{ display:none; } /* hide "Size" label on cards only */

.product-tile .variant-select{
  height: 54px;
  border: none;            /* prevents double borders */
  background: transparent; /* uses the neon container background */
  padding: 0 40px 0 10px;
}

.product-tile .js-buy{
  height: 54px;
}

/* Product page: same clean alignment */
#detailsCard .variant{
  height: 54px;
  padding: 0 10px;
  display:flex;
  align-items:center;
  justify-content:center;
}
#detailsCard .variant > span{ display:none; } /* hide label here too (select already has aria-label) */

#detailsCard .variant-select{
  height: 54px;
  border: none;
  background: transparent;
  padding: 0 40px 0 10px;
}
#detailsCard #buyBtn{
  height: 54px;
}