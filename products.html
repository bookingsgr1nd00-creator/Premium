---
permalink: /products.html
---
<!doctype html>
<html lang="en-CA">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Premium Supply — Products</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <header class="simple-header">
    <div class="container simple-header__inner">
      <a href="index.html" class="link">← Home</a>
      <strong>Premium Supply (Canada)</strong>
      <button class="btn btn--solid" id="openCart">Cart (<span id="cartCount">0</span>)</button>
    </div>
  </header>

  <main class="section">
    <div class="container">
      <h1 class="section-title">Products</h1>
      <p class="section-sub">Add items, then checkout for Interac e-Transfer instructions + order number.</p>

      <div class="product-grid">
        {% assign items = site.products | where: "active", true %}
        {% for p in items %}
          <article class="product" data-sku="{{ p.sku | escape }}" data-name="{{ p.name | escape }}"
                   data-price="{{ p.price_from }}" data-category="{{ p.category | escape }}">
            <div class="product__img">
              {% if p.image %}
                <img src="{{ p.image | escape }}" alt="{{ p.name | escape }}">
              {% else %}
                <div class="product__placeholder" aria-hidden="true"></div>
              {% endif %}
            </div>

            <div class="product__body">
              <div class="product__top">
                <span class="badge">{% if p.badge %}{{ p.badge }}{% else %}Standard{% endif %}</span>
                <span class="sku">SKU: {{ p.sku }}</span>
              </div>

              <h2 class="product__title">{{ p.name }}</h2>
              <p class="product__desc">{% if p.description %}{{ p.description }}{% endif %}</p>

              <div class="product__bottom">
                <strong class="price">${{ p.price_from }} CAD{% if p.price_to %} – ${{ p.price_to }} CAD{% endif %}</strong>
                <button class="btn btn--outline addBtn" type="button">Add</button>
              </div>
            </div>
          </article>
        {% endfor %}
      </div>
    </div>
  </main>

  <!-- Cart Drawer -->
  <div class="backdrop" id="backdrop" hidden></div>
  <aside class="cart" id="cart" aria-hidden="true">
    <div class="cart__head">
      <strong>Your Cart</strong>
      <button class="btn btn--outline" id="closeCart" type="button">Close</button>
    </div>

    <div class="cart__items" id="cartItems"></div>

    <div class="cart__foot">
      <div class="cart__total">
        <span>Total</span>
        <strong id="cartTotal">$0.00 CAD</strong>
      </div>

      <button class="btn btn--solid btn--full" id="checkoutBtn" type="button">
        Checkout
      </button>
      <p class="muted small">Checkout shows Interac e-Transfer instructions and generates an order number.</p>
    </div>
  </aside>

  <!-- Checkout Modal -->
  <div class="modal" id="modal" hidden>
    <div class="modal__panel" role="dialog" aria-modal="true" aria-labelledby="mTitle">
      <div class="modal__head">
        <strong id="mTitle">Order Confirmation</strong>
        <button class="btn btn--outline" id="closeModal" type="button">Close</button>
      </div>

      <div class="modal__body">
        <p class="muted small">Order confirmation number</p>
        <div class="copyrow">
          <strong id="orderId"></strong>
          <button class="btn btn--outline" id="copyOrder" type="button">Copy</button>
        </div>

        <div class="divider"></div>

        <h3>Interac e-Transfer instructions</h3>
        <ol class="steps">
          <li>Send an Interac e-Transfer to: <strong id="payEmail">payments@premiumsupply.ca</strong></li>
          <li>Include your order number in the message/notes.</li>
          <li>Email your order request so we can confirm and fulfill.</li>
        </ol>

        <div class="notice danger">
          <!-- You asked for account closure in 24h.
               This is risky wording if you don't have accounts. Strong recommendation below in note. -->
          If payment is not received within 24 hours, your order will be cancelled and access may be restricted.
        </div>

        <div class="divider"></div>

        <a class="btn btn--solid btn--full" id="emailOrder" href="#">
          Email order request
        </a>

        <details class="summary">
          <summary>View / copy order summary</summary>
          <pre id="orderSummary"></pre>
        </details>
      </div>
    </div>
  </div>

  <!-- Inline JS (inside HTML, no separate .js file needed) -->
  <script>
    // ===== EDIT THESE =====
    const ORDER_EMAIL = "orders@premiumsupply.ca";
    const PAYMENT_EMAIL = "payments@premiumsupply.ca";
    const CURRENCY = "CAD";
    // ======================

    const $ = (s) => document.querySelector(s);
    const money = (n) => new Intl.NumberFormat(undefined, {style:"currency", currency:CURRENCY}).format(Number(n||0));
    const cartKey = "ps_cart_v1";
    let cart = JSON.parse(localStorage.getItem(cartKey) || "{}");

    const cartCountEl = $("#cartCount");
    const cartItemsEl = $("#cartItems");
    const cartTotalEl = $("#cartTotal");

    function saveCart(){ localStorage.setItem(cartKey, JSON.stringify(cart)); }
    function cartCount(){ return Object.values(cart).reduce((a,b)=>a+b,0); }

    function makeOrderId(){
      const d = new Date();
      const pad = (x)=>String(x).padStart(2,"0");
      const r = Math.floor(Math.random()*9000)+1000;
      return `PS-${d.getFullYear()}${pad(d.getMonth()+1)}${pad(d.getDate())}-${pad(d.getHours())}${pad(d.getMinutes())}${pad(d.getSeconds())}-${r}`;
    }

    function buildSummary(orderId){
      const lines = [];
      lines.push(`Premium Supply — Order Request`);
      lines.push(`Order #: ${orderId}`);
      lines.push("");
      lines.push("Items:");

      let total = 0;
      for(const sku in cart){
        const qty = cart[sku];
        const card = document.querySelector(\`.product[data-sku="\${CSS.escape(sku)}"]\`);
        if(!card) continue;
        const name = card.dataset.name;
        const price = Number(card.dataset.price || 0);
        total += price * qty;
        lines.push(`- ${name} (SKU: ${sku}) x${qty} — ${money(price)} each`);
      }
      lines.push("");
      lines.push(`Total: ${money(total)} ${CURRENCY}`);
      lines.push("");
      lines.push("Payment: Interac e-Transfer");
      lines.push(`Send to: ${PAYMENT_EMAIL}`);
      lines.push(`Include Order # in transfer message: ${orderId}`);
      lines.push("");
      lines.push("Customer details (please reply with):");
      lines.push("- Full name:");
      lines.push("- Phone:");
      lines.push("- Shipping city/province:");
      lines.push("- Address (if applicable):");
      lines.push("- Notes:");
      return { text: lines.join("\\n"), total };
    }

    function renderCart(){
      cartCountEl.textContent = cartCount();
      const skus = Object.keys(cart);
      if(!skus.length){
        cartItemsEl.innerHTML = '<p class="muted">Your cart is empty.</p>';
        cartTotalEl.textContent = money(0) + " " + CURRENCY;
        return;
      }

      let total = 0;
      cartItemsEl.innerHTML = skus.map(sku=>{
        const qty = cart[sku];
        const card = document.querySelector(\`.product[data-sku="\${CSS.escape(sku)}"]\`);
        const name = card ? card.dataset.name : sku;
        const price = card ? Number(card.dataset.price || 0) : 0;
        total += price * qty;
        return `
          <div class="cartitem">
            <div>
              <strong>${name}</strong>
              <div class="muted small">SKU: ${sku} • ${money(price)} ${CURRENCY}</div>
            </div>
            <div class="qty">
              <button class="qbtn" data-dec="${sku}" type="button">−</button>
              <strong>${qty}</strong>
              <button class="qbtn" data-inc="${sku}" type="button">+</button>
            </div>
          </div>
        `;
      }).join("");

      cartTotalEl.textContent = money(total) + " " + CURRENCY;

      cartItemsEl.querySelectorAll("[data-inc]").forEach(b=>{
        b.addEventListener("click", ()=>{
          const sku = b.getAttribute("data-inc");
          cart[sku] = (cart[sku]||0)+1; saveCart(); renderCart();
        });
      });
      cartItemsEl.querySelectorAll("[data-dec]").forEach(b=>{
        b.addEventListener("click", ()=>{
          const sku = b.getAttribute("data-dec");
          cart[sku] = (cart[sku]||0)-1;
          if(cart[sku] <= 0) delete cart[sku];
          saveCart(); renderCart();
        });
      });
    }

    // Drawer / modal
    const cartEl = $("#cart"), backdrop = $("#backdrop"), modal = $("#modal");
    function openCart(){ cartEl.classList.add("is-open"); cartEl.setAttribute("aria-hidden","false"); backdrop.hidden=false; }
    function closeCart(){ cartEl.classList.remove("is-open"); cartEl.setAttribute("aria-hidden","true"); backdrop.hidden=true; }
    function openModal(){ modal.hidden=false; }
    function closeModal(){ modal.hidden=true; }

    // Wire up product add buttons
    document.querySelectorAll(".product").forEach(card=>{
      card.querySelector(".addBtn").addEventListener("click", ()=>{
        const sku = card.dataset.sku;
        cart[sku] = (cart[sku]||0)+1;
        saveCart();
        renderCart();
        openCart();
      });
    });

    $("#openCart").addEventListener("click", ()=>{ renderCart(); openCart(); });
    $("#closeCart").addEventListener("click", closeCart);
    backdrop.addEventListener("click", ()=>{ closeCart(); closeModal(); });

    // Checkout
    $("#checkoutBtn").addEventListener("click", ()=>{
      if(cartCount() === 0){ openCart(); return; }
      const orderId = makeOrderId();
      const { text } = buildSummary(orderId);

      $("#orderId").textContent = orderId;
      $("#payEmail").textContent = PAYMENT_EMAIL;
      $("#orderSummary").textContent = text;

      const subject = `Order Request ${orderId}`;
      const mailto = `mailto:${encodeURIComponent(ORDER_EMAIL)}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(text)}`;
      $("#emailOrder").setAttribute("href", mailto);

      openModal();
    });

    $("#closeModal").addEventListener("click", closeModal);
    $("#copyOrder").addEventListener("click", async ()=>{
      try{
        await navigator.clipboard.writeText($("#orderId").textContent);
        $("#copyOrder").textContent = "Copied";
        setTimeout(()=>$("#copyOrder").textContent="Copy", 1200);
      }catch(e){
        $("#copyOrder").textContent = "Copy failed";
        setTimeout(()=>$("#copyOrder").textContent="Copy", 1200);
      }
    });

    // Init
    renderCart();
  </script>
</body>
</html>